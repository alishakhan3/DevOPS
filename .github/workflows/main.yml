name: Deploy Selected Docker Image

on:
  workflow_dispatch:
    inputs:
      option:
        description: "Select an option"
        required: true
        default: "1"
        options:
          - "1"
          - "2"
          - "3"
          - "4"
          - "5"

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Fetch Docker image name
        id: fetch_image
        run: |
          images=("nginx" "httpd" "mysql" "postgres" "redis")
          selected_image=${images[${{ github.event.inputs.option }} - 1]}
          echo "::set-output name=image::$selected_image"

      - name: Deploy Docker Image
        run: docker run -d ${{ steps.fetch_image.outputs.image }}
